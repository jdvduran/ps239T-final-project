

## Description
   
   This project is used to determine which bills in the California state legislature were subject tp the procedure known as "Gut-and-Amend."
The code acquires the text for the first and last draft of each bill in a particular state's legislature using the LegiScan API. This is done by looping through dictionaries containing search parameters. The first and last draft for each bill is then compared in R in order to identify how similar the two drafts of the bills are to each other.
   The dissimilarity measure generated by this process is a starting point for manual coding of the Gut-and-Amend bills which can later be used as a base for machine learning. The data in this code is subsetted to only those subject to gut-and-amend for visualization.
The data here is visualized with the use of word clouds to offer some insight into what the topics of the first and last drafs of the gutted bills are.


## Software

1. R, version 3.1
2. Python 3.5, Anaconda distribution.


## Files

### Data

1. introtext.csv: Bill text for the first drafts of each collected from the LegiScan API
         - This file is not uploaded because of GitHub's file size max
2. lasttext.csv: Bill text for the last drafts of each collected from the LegiScan API
         - This file is not uploaded because of GitHub's file size max
3. alltextDISSIM.csv: The text for both drafts of each bill and their dissimilarity score (Ranging from 0-100)
         - This file is not uploaded because of GitHub's file size max
4. ALLGAcoded.csv: The text for both drafts of the bill, their dissimilarity score, and a binary indicator of whether or not the bill was subject to G&A
5. GAsubset.csv: The subset of only G&A bills used for data visualization
6. stoplist.csv: The list of words used as stop words in the text anaysis
7. Folder of Manual Coding Data: Contains CSVs for each 10 point level of dissimilarity used for manual G&A coding of the bills

### Code

1. 01_collect-data.ipynb: Collects data from LegiScan API and exports data to the files introtext.csv and lasttext.csv
2. 02_similarity-analysis.R: Merges the two CSVs and obtains a dissimilarity score for each bill and exports data to alltextDISSIM.csv
2. 03_subsetting-and-visualization.R: Stores which bills were subject to G&A and exports to GAsubset.csv and then creates wordclouds of the intro bill drafts and last bill drafts

### Results

1. wordcloud.png: Wordcloud for the topics of the intro bill drafts.
2. wordcloud2.png: Wordcloud for the topics of the last bill drafts.


## More Information

Manually determining which bills were subject to G&A is very simple. The first few lines of the text are usually enough to make the determination. They drop off at the 40% dissimilarity mark. All budget bills should be excuded just based on their nature of being empty at introduction to later be amended.
